#: import utils utils


<WorkspaceWindow>:
    name: 'workspace'
    MDNavigationLayout:
        ScreenManager:
            Screen:
                MDTabs:
                    id: tabs
                    on_ref_press: root.on_ref_press(*args)
        MDNavigationDrawer:
            id: nav_bar
            type: 'standard'
            elevation: 4
            radius: (0, 0, 0, 0)
            MDNavigationDrawerMenu:
                MDNavigationDrawerHeader:
                    title: 'WorldAtlas'
                    text: 'v0.0.5'
                    spacing: "4dp"
                    padding: "12dp", 0, 0, "56dp"
                MDNavigationDrawerLabel:
                    text: 'Таблицы'
                MDNavigationDrawerItem:
                    icon: 'close'
                    text: 'У вас нет таблиц'
                    disabled: True
                MDNavigationDrawerDivider:
                MDNavigationDrawerLabel:
                    icon_left: 'toolbox-outline'
                    text: 'Сервис'
                MDNavigationDrawerItem:
                    icon: 'assistant'
                    text: 'Ассистент'
                    on_release: root._open_assistant_tab()
                MDNavigationDrawerItem:
                    icon: 'cogs'
                    text: 'Настройки'
                    on_release: root._open_settings_tab()
                MDNavigationDrawerItem:
                    icon: 'exit-to-app'
                    text: 'Выход'
                    on_release: root._exit()

<SettingsTab>:
    MDScrollView:
        MDStackLayout:
            orientation: 'lr-tb'
            padding: dp(10)
            spacing: 10
            MDBoxLayout:
                orientation: 'horizontal'
                height: self.minimum_height
                size_hint_y: None
                MDRectangleFlatButton:
                    text: 'Создать таблицу'
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(10)
                MDTextFieldFuncIcon:
                    id: delete_tablename
                    icon_right: 'arrow-down-drop-circle-outline'
                    icon_right_color_normal: '#389C46'
                    mode: 'rectangle'
                    hint_text: 'Название таблицы'
                    size_hint: None, None
                    width: utils.fontsize_in_pixels(self.font_size, 'Таблица Заклинаний и существ')[0] + 60
                    on_icon_press: root._choice_table_to_delete()
                MDRectangleFlatButton:
                    text: 'Удалить таблицу'
            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: self.minimum_height
                spacing: dp(10)
                MDTextFieldFuncIcon:
                    id: export_tables
                    icon_right: 'arrow-down-drop-circle-outline'
                    icon_right_color_normal: '#389C46'
                    mode: 'rectangle'
                    hint_text: 'Шаблон экспорта'
                    size_hint: None, None
                    width: utils.fontsize_in_pixels(self.font_size, 'Шаблон Dungeon and Dragons 5e')[0] + 60
                    on_icon_press: root._choice_template_to_export()
                MDRectangleFlatButton:
                    text: 'Экспортировать шаблон'
            Widget:
    

<AssistantTab>:
    MDLabel:
        text: 'Я Ассистент Дарви'
        halign: 'center'